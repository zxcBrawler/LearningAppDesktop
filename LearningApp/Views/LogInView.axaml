<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:viewModels="clr-namespace:LearningApp.ViewModels"
             xmlns:anim="https://github.com/whistyun/AnimatedImage.Avalonia"
             xmlns:lang="clr-namespace:LearningApp.Assets.Lang"
             mc:Ignorable="d" d:DesignWidth="1920" d:DesignHeight="1080"
             x:DataType="viewModels:LogInViewModel"
             x:Class="LearningApp.Views.LogInView">
    <Grid ColumnDefinitions="*,*" RowDefinitions="*">
        <!--  Left Welcome Panel  -->
        <Grid
            Margin="25"
            VerticalAlignment="Center"
            RowDefinitions="Auto, Auto, Auto, Auto, Auto">
            <TextBlock
                TextWrapping="Wrap"
                TextAlignment="Center"
                Grid.Row="0"
                Margin="0,0,0,10"
                HorizontalAlignment="Center"
                FontSize="44"
                Foreground="#FFF"
                Text="{x:Static lang:Resources.GreetingText}" />

            <TextBlock
                Grid.Row="1"
                Margin="0,0,0,20"
                FontSize="20"
                Text="{x:Static lang:Resources.GreetingSubText}"
                TextAlignment="Center"
                TextWrapping="Wrap" />

            <Image
                Grid.Row="2"
                Width="250"
                Height="250"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                anim:ImageBehavior.AnimatedSource="avares://LearningApp/Assets/book.gif"
                Stretch="UniformToFill" />

            <TextBlock
                Grid.Row="4"
                Margin="0,10,0,0"
                HorizontalAlignment="Center"
                FontSize="12"
                Text="© 2025 Learning App. All rights reserved." />
        </Grid>
        <!--  Right Panel Log In screen  -->
        <Grid Grid.Row="0" Grid.Column="1">
            <Border
                Margin="25"
                Background="#35373B"
                CornerRadius="25">
                <Grid RowDefinitions="Auto, *, Auto">
                    <StackPanel Grid.Row="1" Margin="75" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                        <Label Margin="0,0,0,30" FontSize="30" HorizontalAlignment="Left">
                            Log In
                        </Label>

                        <TextBox
                            Margin="0,0,0,20"
                            Text="{Binding Email}"
                            Watermark="{x:Static lang:Resources.EmailField}">
                        </TextBox>

                        <Grid Margin="0,0,0,10">
                            <TextBox
                                x:Name="PasswordField"
                                PasswordChar="*"
                                Text="{Binding Password}"
                                Watermark="{x:Static lang:Resources.PasswordField}" />
                            <Button
                                x:Name="ShowHideButton"
                                HorizontalAlignment="Right"
                                VerticalAlignment="Center"
                                Classes="icon"
                                Click="TogglePasswordVisibility"
                                Background="Transparent"
                                BorderThickness="0">
                                <Svg
                                    x:Name="ShowHideIcon"
                                    Classes="passwordIcon"
                                    Path="{Binding ImagePath}" />
                            </Button>
                        </Grid>

                        <TextBlock
                            Margin="0,0,0,20"
                            HorizontalAlignment="Right">
                            Forgot Password?
                        </TextBlock>

                        <Button
                            HorizontalAlignment="Stretch"
                            HorizontalContentAlignment="Center"
                            Classes="primary"
                            Command="{Binding LoginCommand}"
                            Content="Log in" />

                        <Grid Margin="20,30" ColumnDefinitions="*, Auto, *">
                            <Rectangle
                                Grid.Column="0"
                                Height="1"
                                Margin="0,5,10,5"
                                HorizontalAlignment="Stretch"
                                Fill="#494C51" />
                            <Label
                                Grid.Column="1"
                                Margin="10,0"
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                Foreground="#B3C3C0">
                                Or authorize with
                            </Label>
                            <Rectangle
                                Grid.Column="2"
                                Height="1"
                                Margin="10,5,0,5"
                                HorizontalAlignment="Stretch"
                                Fill="#494C51" />
                        </Grid>

                        <StackPanel
                            HorizontalAlignment="Center"
                            Orientation="Horizontal"
                            Spacing="20">
                            <Button
                                Width="50"
                                Height="50"
                                CornerRadius="25" />
                            <Button
                                Width="50"
                                Height="50"
                                CornerRadius="25" />
                            <Button
                                Width="50"
                                Height="50"
                                CornerRadius="25" />
                        </StackPanel>
                    </StackPanel>

                    <Button
                        Grid.Row="2"
                        Classes="textbutton"
                        Command="{Binding NavigateToSignUp}"
                        HorizontalAlignment="Center"
                        Margin="0,0,0,30">
                        Don't have an account? Sign up.
                    </Button>
                </Grid>
            </Border>
        </Grid>
    </Grid>
</UserControl>